{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "AgentOutput",
  "type": "object",
  "required": ["kind","title","summary","tweet","discord","article","sources","images"],
  "properties": {
    "kind": { "type":"string", "enum":["news","tips","pre","post"] },
    "league": { "type":"string" },
    "teams": { "type":"array", "items":{"type":"string"} },
    "tags": { "type":"array", "items":{"type":"string"} },
    "title": { "type":"string", "minLength": 8 },
    "summary": { "type":"string", "minLength": 30 },
    "tweet": { "type":"string", "maxLength": 260 },
    "discord": {
      "type":"object",
      "properties":{
        "content":{"type":"string"},
        "embeds":{"type":"array","items":{"type":"object"}}
      }
    },
    "article": {
      "type":"object",
      "required":["markdown"],
      "properties":{
        "dek":{"type":"string"},
        "markdown":{"type":"string","minLength":200}
      }
    },
    "sources": {
      "type":"array",
      "minItems":2,
      "maxItems":5,
      "items":{
        "type":"object",
        "required":["title","url"],
        "properties":{
          "title":{"type":"string"},
          "url":{"type":"string","format":"uri"},
          "publisher":{"type":"string"}
        }
      }
    },
    "images": {
      "type":"array",
      "minItems":1,
      "maxItems":4,
      "items":{
        "type":"object",
        "required":["url"],
        "properties":{
          "url":{"type":"string","format":"uri"},
          "caption":{"type":"string"},
          "credit":{"type":"string"},
          "license":{"type":"string"},
          "width":{"type":"integer"},
          "height":{"type":"integer"}
        }
      }
    }
  }
}
