
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Start cookieyes banner -->
    <script id="cookieyes" type="text/javascript" src="https://cdn-cookieyes.com/client_data/d4e53f5fb4ed2d73b13f5090/script.js"></script>
    <!-- End cookieyes banner -->

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/lovable-uploads/logo.svg" type="image/svg+xml" />
    <title>Frags and Fortunes Scores - Your Ultimate Esports Hub</title>
    <meta name="description" content="Live esports scores, match tracking, and tournament coverage for CS:GO, LoL, Dota 2, and more. Alongside Fantasy Esports!">
    <meta name="author" content="Frags and Fortunes Scores" />

    <meta property="og:title" content="Frags and Fortunes Scores - Your Ultimate Esports Hub" />
    <meta property="og:description" content="Live esports scores, match tracking, and tournament coverage for CS:GO, LoL, Dota 2, and more. Get real-time stats and professional analytics." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <script type="text/plain" data-cookieyes="analytics" async src="https://www.googletagmanager.com/gtag/js?id=G-N8HTSGP99B"></script>
    <script type="text/plain" data-cookieyes="analytics">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-N8HTSGP99B');
    </script>

    
    <script type="text/plain" data-cookieyes="analytics">
    (function (m, a, z, e) {
      var s, t;
      try {
        t = m.sessionStorage.getItem('maze-us');
      } catch (err) {}

      if (!t) {
        t = new Date().getTime();
        try {
          m.sessionStorage.setItem('maze-us', t);
        } catch (err) {}
      }

      s = a.createElement('script');
      s.src = z + '?apiKey=' + e;
      s.async = true;
      a.getElementsByTagName('head')[0].appendChild(s);
      m.mazeUniversalSnippetApiKey = e;
    })(window, document, 'https://snippet.maze.co/maze-universal-loader.js', '35c8fd0b-1c6a-40ed-af10-1bce9d01656f');
    </script>

    <!-- Cookie Consent Manager -->
    <script>
      // Function to load analytics scripts when consent is given
      function loadAnalyticsScripts() {
        console.log('Loading analytics scripts...');
        
        // Load Google Analytics
        const gtagScripts = document.querySelectorAll('script[type="text/plain"][data-cookieyes="analytics"]');
        gtagScripts.forEach(function(script) {
          if (script.src && script.src.includes('googletagmanager')) {
            const newScript = document.createElement('script');
            newScript.src = script.src;
            newScript.async = true;
            document.head.appendChild(newScript);
          } else if (script.innerHTML && script.innerHTML.includes('gtag')) {
            const newScript = document.createElement('script');
            newScript.innerHTML = script.innerHTML;
            document.head.appendChild(newScript);
          }
        });

        // Load Maze
        const mazeScripts = document.querySelectorAll('script[type="text/plain"][data-cookieyes="analytics"]');
        mazeScripts.forEach(function(script) {
          if (script.innerHTML && script.innerHTML.includes('maze')) {
            const newScript = document.createElement('script');
            newScript.innerHTML = script.innerHTML;
            document.head.appendChild(newScript);
          }
        });

        // Load Amplitude with sequential loading
        console.log('Loading Amplitude analytics-browser...');
        const amplitudeScript = document.createElement('script');
        amplitudeScript.src = 'https://cdn.amplitude.com/libs/analytics-browser-2.11.1-min.js.gz';
        amplitudeScript.onload = function() {
          console.log('Amplitude analytics-browser loaded, loading session-replay plugin...');
          
          const sessionReplayScript = document.createElement('script');
          sessionReplayScript.src = 'https://cdn.amplitude.com/libs/plugin-session-replay-browser-1.8.0-min.js.gz';
          sessionReplayScript.onload = function() {
            console.log('Session replay plugin loaded, initializing Amplitude...');
            
            // Initialize Amplitude
            if (window.amplitude && window.sessionReplay) {
              try {
                window.amplitude.add(window.sessionReplay.plugin({sampleRate: 1}));
                window.amplitude.init('dd8a94425d4256791b4c2390d88fe968', {"autocapture":{"elementInteractions":true}});
                console.log('Amplitude initialized successfully!');
              } catch (error) {
                console.error('Error initializing Amplitude:', error);
              }
            } else {
              console.error('Amplitude or sessionReplay not available');
            }
          };
          sessionReplayScript.onerror = function() {
            console.error('Failed to load session replay plugin');
          };
          document.head.appendChild(sessionReplayScript);
        };
        amplitudeScript.onerror = function() {
          console.error('Failed to load Amplitude analytics-browser');
        };
        document.head.appendChild(amplitudeScript);
      }

      // Listen for consent updates
      document.addEventListener('cookieyes_consent_update', function(eventData) {
        console.log('CookieYes consent updated:', eventData.detail);
        const consent = eventData.detail;
        
        if (consent && consent.accepted && consent.accepted.includes('analytics')) {
          console.log('Analytics consent granted, loading scripts...');
          loadAnalyticsScripts();
        }
      });

      // Check for existing consent on page load
      window.addEventListener('load', function() {
        setTimeout(function() {
          // Check if CookieYes cookie exists and has analytics consent
          const cookieValue = document.cookie.split('; ').find(row => row.startsWith('cookieyes-consent='));
          if (cookieValue) {
            try {
              const consent = JSON.parse(decodeURIComponent(cookieValue.split('=')[1]));
              console.log('Existing consent found:', consent);
              if (consent.analytics === 'yes') {
                console.log('Analytics already consented, loading scripts...');
                loadAnalyticsScripts();
              }
            } catch (error) {
              console.error('Error parsing consent cookie:', error);
            }
          }
        }, 500); // Small delay to ensure CookieYes has initialized
      });
    </script>

  </head>

  <body>
    <div id="root"></div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
